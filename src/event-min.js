(function(){var e={};var n={};function t(e){var n,t,r;if(arguments.length<3){throw new Error("Parameter error: at least 3 parameters needed!")}else{n=arguments[1];if(arguments[3]){t=arguments[2];r=arguments[3];l(e,n,t,r)}else{r=arguments[2];s(e,n,r)}}}function r(e){var n,t,r;n=arguments[1];if(arguments.length>3){t=arguments[2];r=arguments[3];a(e,n,t,r)}else{r=arguments[2];i(e,n,r);if(!r){a(e,n)}}}function s(e,n,t){if(!e.events||!e.events[n]){d(e,n)}e.events[n].push(t)}function i(e,n,t){if(!e.events){return}if(t){if(e.events[n]){for(var r=0,s=e.events[n].length;r<s;r++){if(e.events[n][r]===t){e.events[n].splice(r,1);break}}}}else if(n){if(e.events[n]){e.events[n].length=0}}else{for(var r in e.events){if(e.events[r]){e.events[r].length=0}}}}function l(e,n,t,r){d(e,n);e.delegs[n].push({deleQuery:t,handle:r,wrapHandle:function(n){var s=n||window.event,i=s.target||s.srcElement,l=e.querySelectorAll(t);i=i||this;for(var a=0,f=l.length;a<f;a++){if(v(l[a],i)){r.apply(l[a],arguments);break}}}})}function a(e,n,t,r){if(!e.delegs){return}if(r){if(e.delegs[n]){for(var s=0,i=e.delegs[n].length;s<i;s++){if(e.delegs[n][s].deleQuery===t&&e.delegs[n][s].handle===r){e.delegs[n].splice(s,1);break}}}}else if(n){if(e.delegs[n]){e.delegs[n].length=0}}else{for(var s in e.delegs){e.delegs[s].length=0}}}function f(e,n,t){if(!t||!t.target){t=g(t,{target:e})}while(e){o(e,n,t);e=e.parentNode}}function o(e,n,t){var r,s;if(!t||!t.target){t=g(t,{target:e})}if(e.delegs&&e.delegs[n]){for(r=0,s=e.delegs[n].length;r<s;r++){e.delegs[n][r].wrapHandle.call(e,t)}}if(e.events&&e.events[n]){for(r=0,s=e.events[n].length;r<s;r++){e.events[n][r].call(e,t)}}}function d(e,t){var r=e.delegs&&e.events;e.delegs=e.delegs||{};e.delegs[t]=e.delegs[t]||[];e.events=e.events||{};e.events[t]=e.events[t]||[];if(!r){if("on"+t in e){u(e,t,function(){var n,r;for(n=0,r=e.delegs[t].length;n<r;n++){e.delegs[t][n].wrapHandle.apply(e,arguments)}for(n=0,r=e.events[t].length;n<r;n++){e.events[t][n].apply(e,arguments)}})}else if(n[t]){n[t](e)}}}function g(e,n){if(typeof e!=="object"){e={}}for(var t in n){e[t]=n[t]}return e}function u(e,n,t){if(e.addEventListener)e.addEventListener(n,t,false);else if(e.attachEvent){e.attachEvent("on"+n,t)}}function v(e,n){if(e===n){return true}if(e.contains){if(e.nodeType===9)return true;return e.contains(n)}else if(e.compareDocumentPosition){return!!(e.compareDocumentPosition(n)&16)}while(n=n.parentNode){if(e===n)return true}return false}e._addEvent=u;e._dispatch=o;e.on=t;e.off=r;e.bind=s;e.unbind=i;e.delegate=l;e.undelegate=a;e.trigger=f;e.special=n;if(typeof module!=="undefined"&&module.exports&&this.module!==module){module.evt=e}else if(typeof define==="function"&&define.amd){define(e)}else{window.evt=e}})();