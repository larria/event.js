(function(){var e={};var n={};function t(e){var n,t,s;if(arguments.length<3){throw new Error("Parameter error: at least 3 parameters needed!")}else{n=arguments[1];if(arguments[3]){t=arguments[2];s=arguments[3];i(e,n,t,s)}else{s=arguments[2];r(e,n,s)}}}function s(e){var n,t,s;n=arguments[1];if(arguments.length>3){t=arguments[2];s=arguments[3];a(e,n,t,s)}else{s=arguments[2];l(e,n,s);if(!s){a(e,n)}}}function r(e,n,t){if(!e.events||!e.events[n]){g(e,n)}e.events[n].push(t)}function l(e,n,t){if(!e.events){return}if(t){if(e.events[n]){for(var s=0,r=e.events[n].length;s<r;s++){if(e.events[n][s]===t){e.events[n].splice(s,1);break}}}}else if(n){if(e.events[n]){e.events[n].length=0}}else{for(var s in e.events){if(e.events[s]){e.events[s].length=0}}}}function i(e,n,t,s){g(e,n);e.delegs[n].push({deleQuery:t,handle:s,wrapHandle:function(n){var r=n||window.event,l=r.target||r.srcElement,i=e.querySelectorAll(t);l=l||this;for(var a=0,f=i.length;a<f;a++){if(u(i[a],l)){s.apply(i[a],arguments);break}}}})}function a(e,n,t,s){if(!e.delegs){return}if(s){if(e.delegs[n]){for(var r=0,l=e.delegs[n].length;r<l;r++){if(e.delegs[n][r].deleQuery===t&&e.delegs[n][r].handle===s){e.delegs[n].splice(r,1);break}}}}else if(n){if(e.delegs[n]){e.delegs[n].length=0}}else{for(var r in e.delegs){e.delegs[r].length=0}}}function f(e,n,t){t=t||{target:e};while(e){d(e,n,t);e=e.parentNode}}function d(e,n,t){t=t||{target:e};var s,r;if(e.delegs&&e.delegs[n]){for(s=0,r=e.delegs[n].length;s<r;s++){e.delegs[n][s].wrapHandle.call(e,t)}}if(e.events&&e.events[n]){for(s=0,r=e.events[n].length;s<r;s++){e.events[n][s].call(e,t)}}}function g(e,t){var s=e.delegs&&e.events;e.delegs=e.delegs||{};e.delegs[t]=e.delegs[t]||[];e.events=e.events||{};e.events[t]=e.events[t]||[];if(!s){if("on"+t in e){o(e,t,function(){var n,s;for(n=0,s=e.delegs[t].length;n<s;n++){e.delegs[t][n].wrapHandle.apply(e,arguments)}for(n=0,s=e.events[t].length;n<s;n++){e.events[t][n].apply(e,arguments)}})}else if(n[t]){n[t](e)}}}function o(e,n,t){if(e.addEventListener)e.addEventListener(n,t,false);else if(e.attachEvent){e.attachEvent("on"+n,t)}}function u(e,n){if(e===n){return true}if(e.contains){if(e.nodeType===9)return true;return e.contains(n)}else if(e.compareDocumentPosition){return!!(e.compareDocumentPosition(n)&16)}while(n=n.parentNode){if(e===n)return true}return false}e._addEvent=o;e._dispatch=d;e.on=t;e.off=s;e.bind=r;e.unbind=l;e.delegate=i;e.undelegate=a;e.trigger=f;e.special=n;if(typeof module!=="undefined"&&module.exports&&this.module!==module){module.evt=e}else if(typeof define==="function"&&define.amd){define(e)}else{window.evt=e}})();